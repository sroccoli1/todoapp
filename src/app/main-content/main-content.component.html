<form  
    [formGroup]="todoForm" 
    fxLayout="row"
    class="margin"
    (ngSubmit)="onSubmit()"
    >
    <mat-checkbox
        formControlName="todoCompleted"
        [checked]="isCompleted"
        (change)="onCompleted($event.checked)"
        class="margin-top">
    </mat-checkbox>
    <div 
        fxLayout="column">
        <mat-form-field 
            *ngIf="editView === false ; else readOnlyTitle"    
            class="margin-right-left"  
            appearance="appearance" 
            >
            <mat-label>Anna nimi</mat-label>
            <input  
                matInput
                class="title"
                type="text"
                formControlName="todoName" 
                matNativeControl 
                placeholder="Ex. Soita Kari klo 14."
                readonly="true">
        </mat-form-field>
        <ng-template #readOnlyTitle     
            class="margin-right-left"  
            appearance="appearance" >
            <mat-label>Anna nimi</mat-label>
            <input  
                matInput
                class="title"
                type="text"
                formControlName="todoName" 
                matNativeControl 
                placeholder="Ex. Soita Kari klo 14.">
        </ng-template>    
        <hr>
        <mat-form-field 
            appearance="appearance"
            *ngIf="editView === false; else readOnlyText">
            <mat-label>Kirjoita teht채v채</mat-label>
            <textarea 
                matInput
                class="text"
                type="text"
                formControlName="todoDescription" 
                matNativeControl 
                placeholder="Ex. Ensi viime..."
                readonly="true">
            </textarea>
        </mat-form-field>
        <ng-template #readOnlyText
            appearance="appearance">
            <mat-label>Kirjoita teht채v채</mat-label>
            <textarea 
                matInput
                class="text"
                type="text"
                formControlName="todoDescription" 
                matNativeControl 
                placeholder="Ex. Ensi viime...">
            </textarea>
        </ng-template>
        <section 
            name="controls" 
            class="margin" >
            <button 
                class="mat-raised-button mat-warn"
                (click)="delete()">Delete
            </button>
            <button 
                *ngIf="editView"
                class="mat-raised-button"
                (click)="onCancel()">Cancel
            </button>
            <button
                *ngIf="editView === false" 
                class="mat-raised-button" 
                (click)="edit()">Edit
            </button>
            <button
                *ngIf="editView"    
                type="submit" 
                class="mat-raised-button mat-primary"
                (click)="onSubmit()">Save
            </button>
        </section>
    </div>
</form>
